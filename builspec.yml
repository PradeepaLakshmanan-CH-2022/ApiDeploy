version: 0.3

phases:
  install:
    runtime-versions:
      dotnet: 6.0
    commands:
      - echo Installing dependencies...
      - dotnet restore

  build:
    commands:
      - echo Building the application...
      - dotnet build --configuration Release

  test:
    commands:
      - echo Running tests...
      - dotnet test --configuration Release --logger "trx;LogFileName=test-results.trx"
      - echo Test results:
      - cat ./TestResults/test-results.trx
